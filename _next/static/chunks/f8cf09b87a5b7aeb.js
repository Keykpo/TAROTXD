(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,902179,e=>{"use strict";var t=e.i(843476),s=e.i(970065),a=e.i(994179),i=e.i(394245),n=e.i(271645),r=e.i(243553),o=e.i(861745),l=e.i(167881),d=e.i(694689),c=e.i(972520),m=e.i(871689),u=e.i(657688),x=e.i(143918),h=e.i(918789),p=e.i(742531),g=e.i(775528),j=e.i(378674),f=e.i(653103);function b({onComplete:e,onBack:a}){let r=(0,i.useTranslations)("loveTarot.whatIsHeThinkingFlow");(0,i.useTranslations)("DrawCards");let b=(0,o.useLocale)(),{isLoggedIn:v,isPremium:N}=(0,x.useAuthStore)();(0,n.useEffect)(()=>{window.scrollTo(0,0)},[]);let[w,C]=(0,n.useState)(1),[k,T]=(0,n.useState)(null),[S,y]=(0,n.useState)(""),[R,A]=(0,n.useState)([]),[F,z]=(0,n.useState)(!0),[I,L]=(0,n.useState)(null),[E,P]=(0,n.useState)(null),[O,B]=(0,n.useState)(!1),[V,D]=(0,n.useState)(!1),H=[{id:"crush",title:r("relationshipType.crush.title"),emoji:"ðŸ’•"},{id:"ex",title:r("relationshipType.ex.title"),emoji:"ðŸ’”"},{id:"partner",title:r("relationshipType.partner.title"),emoji:"â¤ï¸"}],G=()=>{1===w&&k?C(2):2===w&&S.trim()&&C(3)},U={en:"Spiritual Connection Spread",zh:"çµæ„Ÿå¯¹åº”ç‰Œé˜µ",tw:"éˆæ„Ÿå°æ‡‰ç‰Œé™£",ja:"å¿ƒã®ç¹‹ãŒã‚Šã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰",ko:"ì˜ì  ì—°ê²° ìŠ¤í”„ë ˆë“œ",es:"Tirada de ConexiÃ³n Espiritual",de:"Spirituelle Verbindungs-Legung",pt:"Tiragem de ConexÃ£o Espiritual",fr:"Tirage de Connexion Spirituelle",it:"Stesa della Connessione Spirituale",nl:"Spirituele Verbinding Legging",ru:"Ð Ð°ÑÐºÐ»Ð°Ð´ Ð”ÑƒÑ…Ð¾Ð²Ð½Ð¾Ð¹ Ð¡Ð²ÑÐ·Ð¸"},J={en:"Explore the deeper connection between you and your partner",zh:"æŽ¢ç´¢ä½ å’Œä¼´ä¾£ä¹‹é—´æ›´æ·±å±‚çš„è”ç³»",tw:"æŽ¢ç´¢ä½ å’Œä¼´ä¾¶ä¹‹é–“æ›´æ·±å±¤çš„è¯ç¹«",ja:"ã‚ãªãŸã¨ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã®æ·±ã„ã¤ãªãŒã‚Šã‚’æŽ¢ã‚‹",ko:"ë‹¹ì‹ ê³¼ íŒŒíŠ¸ë„ˆ ê°„ì˜ ë” ê¹Šì€ ì—°ê²° íƒìƒ‰",es:"Explora la conexiÃ³n mÃ¡s profunda entre tÃº y tu pareja",de:"Erkunde die tiefere Verbindung zwischen dir und deinem Partner",pt:"Explore a conexÃ£o mais profunda entre vocÃª e seu parceiro",fr:"Explorez la connexion plus profonde entre vous et votre partenaire",it:"Esplora la connessione piÃ¹ profonda tra te e il tuo partner",nl:"Verken de diepere verbinding tussen jou en je partner",ru:"Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð±Ð¾Ð»ÐµÐµ Ð³Ð»ÑƒÐ±Ð¾ÐºÑƒÑŽ ÑÐ²ÑÐ·ÑŒ Ð¼ÐµÐ¶Ð´Ñƒ Ð²Ð°Ð¼Ð¸ Ð¸ Ð²Ð°ÑˆÐ¸Ð¼ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð¾Ð¼"},q={en:["Your Thoughts About Them","Their Thoughts About You","Your View on the Current Relationship","Their View on the Current Relationship","Your Expectations for the Future Relationship","Their Expectations for the Future Relationship"],zh:["ä½ å¯¹taçš„æƒ³æ³•","taå¯¹ä½ çš„æƒ³æ³•","ä½ å¯¹ç›®å‰å…³ç³»çš„çœ‹æ³•","taå¯¹ç›®å‰å…³ç³»çš„çœ‹æ³•","ä½ å¯¹æœªæ¥å…³ç³»çš„æœŸå¾…","taå¯¹æœªæ¥å…³ç³»çš„æœŸå¾…"],tw:["ä½ å°taçš„æƒ³æ³•","taå°ä½ çš„æƒ³æ³•","ä½ å°ç›®å‰é—œä¿‚çš„çœ‹æ³•","taå°ç›®å‰é—œä¿‚çš„çœ‹æ³•","ä½ å°æœªä¾†é—œä¿‚çš„æœŸå¾…","taå°æœªä¾†é—œä¿‚çš„æœŸå¾…"],ja:["ç›¸æ‰‹ã«å¯¾ã™ã‚‹ã‚ãªãŸã®è€ƒãˆ","ã‚ãªãŸã«å¯¾ã™ã‚‹ç›¸æ‰‹ã®è€ƒãˆ","ç¾åœ¨ã®é–¢ä¿‚ã«å¯¾ã™ã‚‹ã‚ãªãŸã®è¦‹æ–¹","ç¾åœ¨ã®é–¢ä¿‚ã«å¯¾ã™ã‚‹ç›¸æ‰‹ã®è¦‹æ–¹","å°†æ¥ã®é–¢ä¿‚ã«å¯¾ã™ã‚‹ã‚ãªãŸã®æœŸå¾…","å°†æ¥ã®é–¢ä¿‚ã«å¯¾ã™ã‚‹ç›¸æ‰‹ã®æœŸå¾…"],ko:["ìƒëŒ€ë°©ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°","ë‹¹ì‹ ì— ëŒ€í•œ ìƒëŒ€ë°©ì˜ ìƒê°","í˜„ìž¬ ê´€ê³„ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ê²¬í•´","í˜„ìž¬ ê´€ê³„ì— ëŒ€í•œ ìƒëŒ€ë°©ì˜ ê²¬í•´","ë¯¸ëž˜ ê´€ê³„ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ê¸°ëŒ€","ë¯¸ëž˜ ê´€ê³„ì— ëŒ€í•œ ìƒëŒ€ë°©ì˜ ê¸°ëŒ€"],es:["Tus Pensamientos Sobre Ellos","Sus Pensamientos Sobre Ti","Tu VisiÃ³n de la RelaciÃ³n Actual","Su VisiÃ³n de la RelaciÃ³n Actual","Tus Expectativas para la RelaciÃ³n Futura","Sus Expectativas para la RelaciÃ³n Futura"],de:["Deine Gedanken Ã¼ber Sie","Ihre Gedanken Ã¼ber Dich","Deine Sicht auf die aktuelle Beziehung","Ihre Sicht auf die aktuelle Beziehung","Deine Erwartungen an die zukÃ¼nftige Beziehung","Ihre Erwartungen an die zukÃ¼nftige Beziehung"],pt:["Seus Pensamentos Sobre Eles","Pensamentos Deles Sobre VocÃª","Sua VisÃ£o do Relacionamento Atual","VisÃ£o Deles do Relacionamento Atual","Suas Expectativas para o Relacionamento Futuro","Expectativas Deles para o Relacionamento Futuro"],fr:["Vos PensÃ©es Ã  Leur Sujet","Leurs PensÃ©es Ã  Votre Sujet","Votre Vision de la Relation Actuelle","Leur Vision de la Relation Actuelle","Vos Attentes pour la Relation Future","Leurs Attentes pour la Relation Future"],it:["I Tuoi Pensieri su di Loro","I Loro Pensieri su di Te","La Tua Visione della Relazione Attuale","La Loro Visione della Relazione Attuale","Le Tue Aspettative per la Relazione Futura","Le Loro Aspettative per la Relazione Futura"],nl:["Jouw Gedachten Over Hen","Hun Gedachten Over Jou","Jouw Visie op de Huidige Relatie","Hun Visie op de Huidige Relatie","Jouw Verwachtingen voor de Toekomstige Relatie","Hun Verwachtingen voor de Toekomstige Relatie"],ru:["Ð’Ð°ÑˆÐ¸ ÐœÑ‹ÑÐ»Ð¸ Ð¾ ÐÐ¸Ñ…","Ð˜Ñ… ÐœÑ‹ÑÐ»Ð¸ Ð¾ Ð’Ð°Ñ","Ð’Ð°Ñˆ Ð’Ð·Ð³Ð»ÑÐ´ Ð½Ð° Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ","Ð˜Ñ… Ð’Ð·Ð³Ð»ÑÐ´ Ð½Ð° Ð¢ÐµÐºÑƒÑ‰Ð¸Ðµ ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ñ","Ð’Ð°ÑˆÐ¸ ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚ Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ñ… ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ð¹","Ð˜Ñ… ÐžÐ¶Ð¸Ð´Ð°Ð½Ð¸Ñ Ð¾Ñ‚ Ð‘ÑƒÐ´ÑƒÑ‰Ð¸Ñ… ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸Ð¹"]};(0,n.useEffect)(()=>{let e=async()=>{try{let e={id:"spiritual-connection",name:U[b]||U.en,tagline:J[b]||J.en,cards:q[b]||q.en,cardCount:6,imageUrl:"/spreads/spiritual-connection.png"};L(e)}catch(e){console.error("Failed to load data:",e)}};3===w&&e()},[w,b]);let $=async t=>{D(!0);try{let s=F?R.map(e=>({id:e.cardId,name:e.name,isReversed:e.isReversed})):R.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,isReversed:e.isReversed})),a=await fetch("/api/love-tarot/what-is-he-thinking",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:b,relationshipType:k,additionalInfo:S,drawnCards:s,readingType:t})});if(!a.ok)throw Error("Failed to generate reading");let i=await a.json();P(i.reading),C(4),B(!1),D(!1),e&&e({relationshipType:k||"",additionalInfo:S})}catch(e){console.error("Error generating reading:",e),D(!1),B(!1)}};return 3===w?I?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold",children:r("step3.title")}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:r("step3.instruction")})]}),(0,t.jsx)(j.default,{spreadData:I,onComplete:(e,t)=>{A(e),z(t),B(!0)},renderSlots:e=>(0,t.jsx)("div",{className:"w-full max-w-3xl mx-auto px-4",children:(0,t.jsx)("div",{className:"grid grid-cols-3 gap-4 sm:gap-6 md:gap-8",children:[0,2,4,1,3,5].map(t=>e(t))})})}),(0,t.jsx)(f.default,{isOpen:O,isSubmitting:V,onSubmit:$})]}):null:4===w&&E?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(s.CardContent,{children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold mb-2",children:r("readingTitle")}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[r("relationshipType."+k+".title")," â€¢ ",new Date().toLocaleDateString(b)]})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-6",children:(F?R:R.sort((e,t)=>e.position-t.position)).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-[60px] h-[90px] sm:w-[80px] sm:h-[120px] relative",children:(0,t.jsx)(u.default,{src:F?e.imageUrl:e.image,alt:e.name,fill:!0,className:"object-contain rounded",style:{transform:e.isReversed?"rotate(180deg)":"none"}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:e.name})]},s))}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)(h.default,{remarkPlugins:[p.default],components:{p:({children:e})=>(0,t.jsx)("p",{className:"text-foreground mb-4",children:e}),h1:({children:e})=>(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-3",children:e}),h2:({children:e})=>(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-3",children:e}),h3:({children:e})=>(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),ul:({children:e})=>(0,t.jsx)("ul",{className:"list-disc list-inside mb-4 text-foreground",children:e}),ol:({children:e})=>(0,t.jsx)("ol",{className:"list-decimal list-inside mb-4 text-foreground",children:e}),li:({children:e})=>(0,t.jsx)("li",{className:"mb-1",children:e}),strong:({children:e})=>(0,t.jsx)("strong",{className:"font-semibold text-foreground",children:e}),em:({children:e})=>(0,t.jsx)("em",{className:"italic",children:e}),blockquote:({children:e})=>(0,t.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 my-4 italic text-muted-foreground",children:e})},children:E})}),(0,t.jsx)("div",{className:"flex justify-center gap-3 mt-6",children:(0,t.jsx)(l.Button,{variant:"secondary",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{a&&a()},300)},children:r("newReading")})})]})}),(0,t.jsx)(g.default,{cards:F?R.map(e=>({id:e.cardId,name:e.name,image:e.imageUrl,isReversed:e.isReversed})):R.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,image:e.image,isReversed:e.isReversed})),reading:E,userQuestion:S})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)(s.Card,{children:[1===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step1.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:H.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{T(e.id)},className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${k===e.id?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"}`,children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsx)("span",{className:"text-base font-medium text-left",children:e.title})]},e.id))}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(l.Button,{size:"icon",disabled:!k,onClick:G,className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})})]})]}),2===w&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step2.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)(d.InputGroup,{children:[(0,t.jsx)(d.InputGroupTextarea,{placeholder:r("step2.inputPlaceholder"),value:S,onChange:e=>{var t;(t=e.target.value).length<=500&&y(t)},className:"min-h-[120px] resize-none"}),(0,t.jsx)(d.InputGroupAddon,{align:"block-end",children:(0,t.jsxs)(d.InputGroupText,{className:`text-xs font-medium tabular-nums transition-colors ${S.length>450&&S.length<500?"text-warning":S.length>=500?"text-destructive":"text-muted-foreground"}`,children:[S.length,"/500"]})})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,t.jsx)(l.Button,{size:"icon",variant:"outline",onClick:()=>C(1),className:"rounded-full","aria-label":"Go back",children:(0,t.jsx)(m.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)(l.Button,{size:"icon",disabled:!S.trim(),onClick:G,className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})]})]})]})]})]})}function v({onComplete:e,onBack:a}){let r=(0,i.useTranslations)("loveTarot.soulmateFlow"),d=(0,o.useLocale)();(0,n.useEffect)(()=>{window.scrollTo(0,0)},[]);let[x,b]=(0,n.useState)(1),[v,N]=(0,n.useState)(null),[w,C]=(0,n.useState)(null),[k,T]=(0,n.useState)([]),[S,y]=(0,n.useState)(!0),[R,A]=(0,n.useState)(null),[F,z]=(0,n.useState)(null),[I,L]=(0,n.useState)(!1),[E,P]=(0,n.useState)(!1),O=[{id:"male",title:r("gender.male"),emoji:"ðŸ‘¨"},{id:"female",title:r("gender.female"),emoji:"ðŸ‘©"},{id:"non-binary",title:r("gender.nonBinary"),emoji:"ðŸ§‘"}],B=[{id:"men",title:r("orientation.men"),emoji:"ðŸ’™"},{id:"women",title:r("orientation.women"),emoji:"ðŸ’—"},{id:"all",title:r("orientation.all"),emoji:"ðŸ’œ"}],V=()=>{1===x&&v?b(2):2===x&&w&&b(3)},D={en:"Future Partner Spread",zh:"æœªæ¥æ‹äººç‰Œé˜µ",tw:"æœªä¾†æˆ€äººç‰Œé™£",ja:"æœªæ¥ã®æ‹äººã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰",ko:"ë¯¸ëž˜ì˜ ì—°ì¸ ìŠ¤í”„ë ˆë“œ",es:"Tirada de la Pareja Futura",de:"ZukÃ¼nftiger Partner-Legung",pt:"Tiragem do Parceiro Futuro",fr:"Tirage du Partenaire Futur",it:"Stesa del Partner Futuro",nl:"Toekomstige Partner Legging",ru:"Ð Ð°ÑÐºÐ»Ð°Ð´ Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐ³Ð¾ ÐŸÐ°Ñ€Ñ‚Ð½ÐµÑ€Ð°"},H={en:"Discover insights about your future love and how to meet them",zh:"å‘çŽ°å…³äºŽä½ æœªæ¥æ‹äººçš„å¯ç¤ºå’Œç›¸é‡æ–¹å¼",tw:"ç™¼ç¾é—œæ–¼ä½ æœªä¾†æˆ€äººçš„å•Ÿç¤ºå’Œç›¸é‡æ–¹å¼",ja:"æœªæ¥ã®æ‹äººã¨ã®å‡ºä¼šã„ã¨ãã®å°Žãã‚’æŽ¢ã‚‹",ko:"ë¯¸ëž˜ì˜ ì—°ì¸ì— ëŒ€í•œ í†µì°°ê³¼ ë§Œë‚¨ì˜ ë°©ë²• ë°œê²¬",es:"Descubre revelaciones sobre tu futuro amor y cÃ³mo conocerlo",de:"Entdecke Einblicke Ã¼ber deine zukÃ¼nftige Liebe und wie du sie treffen wirst",pt:"Descubra insights sobre seu futuro amor e como conhecÃª-lo",fr:"DÃ©couvrez des rÃ©vÃ©lations sur votre futur amour et comment le rencontrer",it:"Scopri intuizioni sul tuo futuro amore e come incontrarlo",nl:"Ontdek inzichten over je toekomstige liefde en hoe je hen kunt ontmoeten",ru:"ÐžÑ‚ÐºÑ€Ð¾Ð¹Ñ‚Ðµ Ð´Ð»Ñ ÑÐµÐ±Ñ Ð¿Ð¾Ð½Ð¸Ð¼Ð°Ð½Ð¸Ðµ Ð²Ð°ÑˆÐµÐ¹ Ð±ÑƒÐ´ÑƒÑ‰ÐµÐ¹ Ð»ÑŽÐ±Ð²Ð¸ Ð¸ ÐºÐ°Ðº Ñ Ð½ÐµÐ¹ Ð²ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ"},G={en:["Characteristics of Future Love","Time When Love Will Appear","Obstacles in the Relationship","Interaction Mode","How to Meet Them","Guidance Card"],zh:["æœªæ¥æ¡ƒèŠ±çš„ç‰¹å¾","æ¡ƒèŠ±å‡ºçŽ°çš„æ—¶é—´","æ„Ÿæƒ…çš„é˜»åŠ›","ç›¸å¤„æ¨¡å¼","æ€Žæ ·æ‰èƒ½é‡åˆ°ta","æŒ‡å¼•ç‰Œ"],tw:["æœªä¾†æ¡ƒèŠ±çš„ç‰¹å¾µ","æ¡ƒèŠ±å‡ºç¾çš„æ™‚é–“","æ„Ÿæƒ…çš„é˜»åŠ›","ç›¸è™•æ¨¡å¼","æ€Žæ¨£æ‰èƒ½é‡åˆ°ta","æŒ‡å¼•ç‰Œ"],ja:["æœªæ¥ã®æ‹ã®ç‰¹å¾´","æ‹ãŒè¨ªã‚Œã‚‹æ™‚æœŸ","æ‹æ„›ã®éšœå®³","é–¢ä¿‚æ€§ã®ãƒ¢ãƒ¼ãƒ‰","ç›¸æ‰‹ã¨ã®å‡ºä¼šã„æ–¹","å°Žãã®ã‚«ãƒ¼ãƒ‰"],ko:["ë¯¸ëž˜ ì‚¬ëž‘ì˜ íŠ¹ì§•","ì‚¬ëž‘ì´ ì°¾ì•„ì˜¬ ì‹œê¸°","ì—°ì• ì˜ ìž¥ì• ë¬¼","ìƒí˜¸ìž‘ìš© ë°©ì‹","ìƒëŒ€ë°©ì„ ë§Œë‚˜ëŠ” ë°©ë²•","ì§€ë„ ì¹´ë“œ"],es:["CaracterÃ­sticas del Amor Futuro","Momento en que AparecerÃ¡ el Amor","ObstÃ¡culos en la RelaciÃ³n","Modo de InteracciÃ³n","CÃ³mo Conocerlos","Carta de GuÃ­a"],de:["Eigenschaften der zukÃ¼nftigen Liebe","Zeitpunkt, wann die Liebe erscheinen wird","Hindernisse in der Beziehung","Interaktionsmodus","Wie man sie trifft","FÃ¼hrungskarte"],pt:["CaracterÃ­sticas do Amor Futuro","Momento em que o Amor AparecerÃ¡","ObstÃ¡culos no Relacionamento","Modo de InteraÃ§Ã£o","Como ConhecÃª-los","Carta de OrientaÃ§Ã£o"],fr:["CaractÃ©ristiques de l'Amour Futur","Moment oÃ¹ l'Amour ApparaÃ®tra","Obstacles dans la Relation","Mode d'Interaction","Comment les Rencontrer","Carte de Guidance"],it:["Caratteristiche dell'Amore Futuro","Momento in cui l'Amore ApparirÃ ","Ostacoli nella Relazione","ModalitÃ  di Interazione","Come Incontrarli","Carta Guida"],nl:["Kenmerken van Toekomstige Liefde","Tijd Wanneer Liefde Zal Verschijnen","Obstakels in de Relatie","Interactiemodus","Hoe Je Hen Kunt Ontmoeten","Begeleidingskaart"],ru:["Ð¥Ð°Ñ€Ð°ÐºÑ‚ÐµÑ€Ð¸ÑÑ‚Ð¸ÐºÐ¸ Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐ¹ Ð›ÑŽÐ±Ð²Ð¸","Ð’Ñ€ÐµÐ¼Ñ ÐŸÐ¾ÑÐ²Ð»ÐµÐ½Ð¸Ñ Ð›ÑŽÐ±Ð²Ð¸","ÐŸÑ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ Ð² ÐžÑ‚Ð½Ð¾ÑˆÐµÐ½Ð¸ÑÑ…","Ð ÐµÐ¶Ð¸Ð¼ Ð’Ð·Ð°Ð¸Ð¼Ð¾Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸Ñ","ÐšÐ°Ðº Ñ ÐÐ¸Ð¼Ð¸ Ð’ÑÑ‚Ñ€ÐµÑ‚Ð¸Ñ‚ÑŒÑÑ","ÐšÐ°Ñ€Ñ‚Ð° Ð ÑƒÐºÐ¾Ð²Ð¾Ð´ÑÑ‚Ð²Ð°"]};(0,n.useEffect)(()=>{let e=async()=>{try{let e={id:"future-partner",name:D[d]||D.en,tagline:H[d]||H.en,cards:G[d]||G.en,cardCount:6,imageUrl:"/spreads/future-partner.png"};A(e)}catch(e){console.error("Failed to load data:",e)}};3===x&&e()},[x,d]);let U=async t=>{P(!0);try{let s=S?k.map(e=>({id:e.cardId,name:e.name,isReversed:e.isReversed})):k.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,isReversed:e.isReversed})),a=await fetch("/api/love-tarot/soulmate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:d,gender:v,orientation:w,drawnCards:s,readingType:t})});if(!a.ok)throw Error("Failed to generate reading");let i=await a.json();z(i.reading),b(4),L(!1),P(!1),e&&e({gender:v||"",orientation:w||"",additionalInfo:""})}catch(e){console.error("Error generating reading:",e),P(!1),L(!1)}};return 3===x?R?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold",children:r("step3.title")}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:r("step3.instruction")})]}),(0,t.jsx)(j.default,{spreadData:R,onComplete:(e,t)=>{T(e),y(t),L(!0)},renderSlots:e=>(0,t.jsx)("div",{className:"w-full max-w-3xl mx-auto px-4",children:(0,t.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,t.jsx)("div",{className:"flex justify-center",children:e(5)}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"flex justify-center items-start",children:(0,t.jsxs)("div",{className:"flex items-start gap-[100px] sm:gap-[120px] md:gap-[140px]",children:[e(0),e(1)]})}),(0,t.jsx)("div",{className:"flex justify-center items-start mt-4 sm:mt-6",children:(0,t.jsxs)("div",{className:"flex items-start gap-[100px] sm:gap-[120px] md:gap-[140px]",children:[e(2),e(3)]})})]}),(0,t.jsx)("div",{className:"flex justify-center",children:e(4)})]})})}),(0,t.jsx)(f.default,{isOpen:I,isSubmitting:E,onSubmit:U})]}):null:4===x&&F?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(s.CardContent,{className:"p-4 sm:p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold mb-2",children:r("readingTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString(d)})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-6",children:(S?k:k.sort((e,t)=>e.position-t.position)).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-[60px] h-[90px] sm:w-[80px] sm:h-[120px] relative",children:(0,t.jsx)(u.default,{src:S?e.imageUrl:e.image,alt:e.name,fill:!0,className:"object-contain rounded",style:{transform:e.isReversed?"rotate(180deg)":"none"}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:e.name})]},s))}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)(h.default,{remarkPlugins:[p.default],components:{p:({children:e})=>(0,t.jsx)("p",{className:"text-foreground mb-4",children:e}),h1:({children:e})=>(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-3",children:e}),h2:({children:e})=>(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-3",children:e}),h3:({children:e})=>(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),ul:({children:e})=>(0,t.jsx)("ul",{className:"list-disc list-inside mb-4 text-foreground",children:e}),ol:({children:e})=>(0,t.jsx)("ol",{className:"list-decimal list-inside mb-4 text-foreground",children:e}),li:({children:e})=>(0,t.jsx)("li",{className:"mb-1",children:e}),strong:({children:e})=>(0,t.jsx)("strong",{className:"font-semibold text-foreground",children:e}),em:({children:e})=>(0,t.jsx)("em",{className:"italic",children:e}),blockquote:({children:e})=>(0,t.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 my-4 italic text-foreground",children:e})},children:F})}),(0,t.jsx)("div",{className:"flex justify-center gap-3 mt-6",children:(0,t.jsx)(l.Button,{variant:"secondary",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{a&&a()},300)},children:r("newReading")})})]})}),(0,t.jsx)(g.default,{cards:S?k.map(e=>({id:e.cardId,name:e.name,image:e.imageUrl,isReversed:e.isReversed})):k.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,image:e.image,isReversed:e.isReversed})),reading:F,userQuestion:`${r("step1.title")}: ${r("male"===v?"gender.male":"female"===v?"gender.female":"gender.nonBinary")} | ${r("step2.title")}: ${r("men"===w?"orientation.men":"women"===w?"orientation.women":"orientation.all")}`})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)(s.Card,{children:[1===x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step1.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:O.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{N(e.id)},className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${v===e.id?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"}`,children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsx)("span",{className:"text-base font-medium text-left",children:e.title})]},e.id))}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(l.Button,{size:"icon",disabled:!v,onClick:V,className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})})]})]}),2===x&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step2.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsx)("div",{className:"space-y-3",children:B.map(e=>(0,t.jsxs)("button",{type:"button",onClick:()=>{C(e.id)},className:`w-full flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${w===e.id?"border-primary bg-primary/5":"border-border hover:border-muted-foreground/50"}`,children:[(0,t.jsx)("span",{className:"text-2xl",children:e.emoji}),(0,t.jsx)("span",{className:"text-base font-medium text-left",children:e.title})]},e.id))}),(0,t.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,t.jsx)(l.Button,{size:"icon",variant:"outline",onClick:()=>b(1),className:"rounded-full","aria-label":"Go back",children:(0,t.jsx)(m.ArrowLeft,{className:"w-5 h-5"})}),(0,t.jsx)(l.Button,{size:"icon",disabled:!w,onClick:V,className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})]})]})]})]})]})}function N({onComplete:e,onBack:a}){let r=(0,i.useTranslations)("loveTarot.breakupRecoveryFlow"),x=(0,o.useLocale)();(0,n.useEffect)(()=>{window.scrollTo(0,0)},[]);let[b,v]=(0,n.useState)(1),[N,w]=(0,n.useState)(""),[C,k]=(0,n.useState)([]),[T,S]=(0,n.useState)(!0),[y,R]=(0,n.useState)(null),[A,F]=(0,n.useState)(null),[z,I]=(0,n.useState)(!1),[L,E]=(0,n.useState)(!1),P={en:"Lovers Reconciliation Spread",zh:"æ‹äººå¤åˆç‰Œé˜µ",tw:"æˆ€äººè¤‡åˆç‰Œé™£",ja:"æ‹äººå¾©ç¸ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰",ko:"ì—°ì¸ ìž¬ê²°í•© ìŠ¤í”„ë ˆë“œ",es:"Tirada de ReconciliaciÃ³n de Amantes",de:"Liebende VersÃ¶hnungs-Legung",pt:"Tiragem de ReconciliaÃ§Ã£o de Amantes",fr:"Tirage de RÃ©conciliation des Amants",it:"Stesa della Riconciliazione degli Amanti",nl:"Geliefden Verzoening Legging",ru:"Ð Ð°ÑÐºÐ»Ð°Ð´ ÐŸÑ€Ð¸Ð¼Ð¸Ñ€ÐµÐ½Ð¸Ñ Ð’Ð»ÑŽÐ±Ð»ÐµÐ½Ð½Ñ‹Ñ…"},O={en:"Explore the possibility and path of reconciliation with your ex-partner",zh:"æŽ¢ç´¢ä¸Žå‰ä»»å¤åˆçš„å¯èƒ½æ€§å’Œé“è·¯",tw:"æŽ¢ç´¢èˆ‡å‰ä»»è¤‡åˆçš„å¯èƒ½æ€§å’Œé“è·¯",ja:"å…ƒæ‹äººã¨ã®å¾©ç¸ã®å¯èƒ½æ€§ã¨é“ã®ã‚Šã‚’æŽ¢ã‚‹",ko:"ì „ ì—°ì¸ê³¼ì˜ ìž¬ê²°í•© ê°€ëŠ¥ì„±ê³¼ ê²½ë¡œ íƒìƒ‰",es:"Explora la posibilidad y el camino de reconciliaciÃ³n con tu ex-pareja",de:"Erkunde die MÃ¶glichkeit und den Weg der VersÃ¶hnung mit deinem Ex-Partner",pt:"Explore a possibilidade e o caminho de reconciliaÃ§Ã£o com seu ex-parceiro",fr:"Explorez la possibilitÃ© et le chemin de rÃ©conciliation avec votre ex-partenaire",it:"Esplora la possibilitÃ  e il percorso di riconciliazione con il tuo ex-partner",nl:"Verken de mogelijkheid en het pad van verzoening met je ex-partner",ru:"Ð˜ÑÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð¸ Ð¿ÑƒÑ‚ÑŒ Ð¿Ñ€Ð¸Ð¼Ð¸Ñ€ÐµÐ½Ð¸Ñ Ñ Ð±Ñ‹Ð²ÑˆÐ¸Ð¼ Ð¿Ð°Ñ€Ñ‚Ð½ÐµÑ€Ð¾Ð¼"},B={en:["Your Past Together","Your Current Situation","Their Current Situation","Your Thoughts on Reconciliation","Their Thoughts on Reconciliation","What's Hindering You","What's Helping You","Unknown Factors","Result"],zh:["ä½ ä»¬çš„è¿‡åŽ»","ä½ çŽ°åœ¨çš„æƒ…å†µ","å¯¹æ–¹çŽ°åœ¨çš„æƒ…å†µ","ä½ å¯¹å¤åˆçš„æƒ³æ³•","å¯¹æ–¹å¯¹å¤åˆçš„æƒ³æ³•","é˜»ç¢ä½ çš„","å¸®åŠ©ä½ çš„","ä¸çŸ¥é“çš„äº‹","ç»“æžœ"],tw:["ä½ å€‘çš„éŽåŽ»","ä½ ç¾åœ¨çš„æƒ…æ³","å°æ–¹ç¾åœ¨çš„æƒ…æ³","ä½ å°è¤‡åˆçš„æƒ³æ³•","å°æ–¹å°è¤‡åˆçš„æƒ³æ³•","é˜»ç¤™ä½ çš„","å¹«åŠ©ä½ çš„","ä¸çŸ¥é“çš„äº‹","çµæžœ"],ja:["äºŒäººã®éŽåŽ»","ã‚ãªãŸã®ç¾åœ¨ã®çŠ¶æ³","ç›¸æ‰‹ã®ç¾åœ¨ã®çŠ¶æ³","å¾©ç¸ã«å¯¾ã™ã‚‹ã‚ãªãŸã®è€ƒãˆ","å¾©ç¸ã«å¯¾ã™ã‚‹ç›¸æ‰‹ã®è€ƒãˆ","ã‚ãªãŸã®éšœå®³ã¨ãªã‚‹ã‚‚ã®","ã‚ãªãŸã®åŠ©ã‘ã¨ãªã‚‹ã‚‚ã®","çŸ¥ã‚‰ãªã‹ã£ãŸã“ã¨","çµæžœ"],ko:["ë‘˜ì˜ ê³¼ê±°","ë‹¹ì‹ ì˜ í˜„ìž¬ ìƒí™©","ìƒëŒ€ë°©ì˜ í˜„ìž¬ ìƒí™©","ìž¬ê²°í•©ì— ëŒ€í•œ ë‹¹ì‹ ì˜ ìƒê°","ìž¬ê²°í•©ì— ëŒ€í•œ ìƒëŒ€ë°©ì˜ ìƒê°","ë‹¹ì‹ ì„ ë°©í•´í•˜ëŠ” ê²ƒ","ë‹¹ì‹ ì„ ë•ëŠ” ê²ƒ","ëª¨ë¥´ëŠ” ì‚¬ì‹¤","ê²°ê³¼"],es:["Vuestro Pasado Juntos","Tu SituaciÃ³n Actual","Su SituaciÃ³n Actual","Tus Pensamientos sobre la ReconciliaciÃ³n","Sus Pensamientos sobre la ReconciliaciÃ³n","Lo que te Obstaculiza","Lo que te Ayuda","Factores Desconocidos","Resultado"],de:["Eure gemeinsame Vergangenheit","Deine aktuelle Situation","Ihre aktuelle Situation","Deine Gedanken zur VersÃ¶hnung","Ihre Gedanken zur VersÃ¶hnung","Was dich hindert","Was dir hilft","Unbekannte Faktoren","Ergebnis"],pt:["Seu Passado Juntos","Sua SituaÃ§Ã£o Atual","SituaÃ§Ã£o Atual Deles","Seus Pensamentos sobre a ReconciliaÃ§Ã£o","Pensamentos Deles sobre a ReconciliaÃ§Ã£o","O que EstÃ¡ te Impedindo","O que EstÃ¡ te Ajudando","Fatores Desconhecidos","Resultado"],fr:["Votre PassÃ© Ensemble","Votre Situation Actuelle","Leur Situation Actuelle","Vos PensÃ©es sur la RÃ©conciliation","Leurs PensÃ©es sur la RÃ©conciliation","Ce qui Vous Entrave","Ce qui Vous Aide","Facteurs Inconnus","RÃ©sultat"],it:["Il Vostro Passato Insieme","La Tua Situazione Attuale","La Loro Situazione Attuale","I Tuoi Pensieri sulla Riconciliazione","I Loro Pensieri sulla Riconciliazione","CiÃ² che Ti Ostacola","CiÃ² che Ti Aiuta","Fattori Sconosciuti","Risultato"],nl:["Jullie Verleden Samen","Jouw Huidige Situatie","Hun Huidige Situatie","Jouw Gedachten over Verzoening","Hun Gedachten over Verzoening","Wat Je Belemmert","Wat Je Helpt","Onbekende Factoren","Resultaat"],ru:["Ð’Ð°ÑˆÐµ ÐžÐ±Ñ‰ÐµÐµ ÐŸÑ€Ð¾ÑˆÐ»Ð¾Ðµ","Ð’Ð°ÑˆÐ° Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð¡Ð¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ","Ð˜Ñ… Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð¡Ð¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ","Ð’Ð°ÑˆÐ¸ ÐœÑ‹ÑÐ»Ð¸ Ð¾ ÐŸÑ€Ð¸Ð¼Ð¸Ñ€ÐµÐ½Ð¸Ð¸","Ð˜Ñ… ÐœÑ‹ÑÐ»Ð¸ Ð¾ ÐŸÑ€Ð¸Ð¼Ð¸Ñ€ÐµÐ½Ð¸Ð¸","Ð§Ñ‚Ð¾ Ð’Ð°Ð¼ ÐœÐµÑˆÐ°ÐµÑ‚","Ð§Ñ‚Ð¾ Ð’Ð°Ð¼ ÐŸÐ¾Ð¼Ð¾Ð³Ð°ÐµÑ‚","ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ñ‹Ðµ Ð¤Ð°ÐºÑ‚Ð¾Ñ€Ñ‹","Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚"]};(0,n.useEffect)(()=>{let e=async()=>{try{let e={id:"lovers-reconciliation",name:P[x]||P.en,tagline:O[x]||O.en,cards:B[x]||B.en,cardCount:9,imageUrl:"/spreads/lovers-reconciliation.png"};R(e)}catch(e){console.error("Failed to load data:",e)}};2===b&&e()},[b,x]);let V=async t=>{E(!0);try{let s=T?C.map(e=>({id:e.cardId,name:e.name,isReversed:e.isReversed})):C.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,isReversed:e.isReversed})),a=await fetch("/api/love-tarot/breakup-recovery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:x,additionalInfo:N,drawnCards:s,readingType:t})});if(!a.ok)throw Error("Failed to generate reading");let i=await a.json();F(i.reading),v(3),I(!1),E(!1),e&&e({additionalInfo:N})}catch(e){console.error("Error generating reading:",e),E(!1),I(!1)}};return 2===b?y?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold",children:r("step2.title")}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:r("step2.instruction")})]}),(0,t.jsx)(j.default,{spreadData:y,onComplete:(e,t)=>{k(e),S(t),I(!0)}}),(0,t.jsx)(f.default,{isOpen:z,isSubmitting:L,onSubmit:V})]}):null:3===b&&A?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(s.CardContent,{className:"p-4 sm:p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold mb-2",children:r("readingTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString(x)})]}),(0,t.jsx)("div",{className:"grid grid-cols-3 gap-2 sm:gap-4 mb-6",children:(T?C:C.sort((e,t)=>e.position-t.position)).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-[60px] h-[90px] sm:w-[80px] sm:h-[120px] relative",children:(0,t.jsx)(u.default,{src:T?e.imageUrl:e.image,alt:e.name,fill:!0,className:"object-contain rounded",style:{transform:e.isReversed?"rotate(180deg)":"none"}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:e.name})]},s))}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)(h.default,{remarkPlugins:[p.default],components:{p:({children:e})=>(0,t.jsx)("p",{className:"text-foreground mb-4",children:e}),h1:({children:e})=>(0,t.jsx)("h1",{className:"text-2xl font-bold mb-3",children:e}),h2:({children:e})=>(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:e}),h3:({children:e})=>(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:e}),ul:({children:e})=>(0,t.jsx)("ul",{className:"list-disc list-inside mb-4",children:e}),ol:({children:e})=>(0,t.jsx)("ol",{className:"list-decimal list-inside mb-4",children:e}),li:({children:e})=>(0,t.jsx)("li",{className:"mb-1",children:e}),strong:({children:e})=>(0,t.jsx)("strong",{className:"font-semibold",children:e}),em:({children:e})=>(0,t.jsx)("em",{className:"italic",children:e}),blockquote:({children:e})=>(0,t.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 my-4 italic text-muted-foreground",children:e})},children:A})}),(0,t.jsx)("div",{className:"flex justify-center gap-3 mt-6",children:(0,t.jsx)(l.Button,{variant:"secondary",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{a&&a()},300)},children:r("newReading")})})]})}),(0,t.jsx)(g.default,{cards:T?C.map(e=>({id:e.cardId,name:e.name,image:e.imageUrl,isReversed:e.isReversed})):C.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,image:e.image,isReversed:e.isReversed})),reading:A,userQuestion:N})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:1===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step1.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)(d.InputGroup,{children:[(0,t.jsx)(d.InputGroupTextarea,{placeholder:r("step1.inputPlaceholder"),value:N,onChange:e=>{var t;(t=e.target.value).length<=500&&w(t)},className:"min-h-[120px] resize-none"}),(0,t.jsx)(d.InputGroupAddon,{align:"block-end",children:(0,t.jsxs)(d.InputGroupText,{className:`text-xs font-medium tabular-nums transition-colors ${N.length>450&&N.length<500?"text-warning":N.length>=500?"text-destructive":"text-muted-foreground"}`,children:[N.length,"/500"]})})]}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(l.Button,{size:"icon",disabled:!N.trim(),onClick:()=>{1===b&&N.trim()&&v(2)},className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})})]})]})})]})}function w({onComplete:e,onBack:a}){let r=(0,i.useTranslations)("loveTarot.relationshipPredictionFlow"),x=(0,o.useLocale)();(0,n.useEffect)(()=>{window.scrollTo(0,0)},[]);let[b,v]=(0,n.useState)(1),[N,w]=(0,n.useState)(""),[C,k]=(0,n.useState)([]),[T,S]=(0,n.useState)(!0),[y,R]=(0,n.useState)(null),[A,F]=(0,n.useState)(null),[z,I]=(0,n.useState)(!1),[L,E]=(0,n.useState)(!1),P={en:"Development Spread",zh:"å‘å±•ç‰Œé˜µ",tw:"ç™¼å±•ç‰Œé™£",ja:"ç™ºå±•ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰",ko:"ë°œì „ ìŠ¤í”„ë ˆë“œ",es:"Tirada del Desarrollo",de:"Entwicklungs-Legung",pt:"Tiragem do Desenvolvimento",fr:"Tirage du DÃ©veloppement",it:"Stesa dello Sviluppo",nl:"Ontwikkelings Legging",ru:"Ð Ð°ÑÐºÐ»Ð°Ð´ Ð Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ñ"},O={en:"Understand your path of growth and overcome obstacles",zh:"äº†è§£ä½ çš„æˆé•¿é“è·¯å¹¶å…‹æœéšœç¢",tw:"äº†è§£ä½ çš„æˆé•·é“è·¯ä¸¦å…‹æœéšœç¤™",ja:"æˆé•·ã®é“ã®ã‚Šã¨éšœå®³ã®å…‹æœã‚’ç†è§£ã™ã‚‹",ko:"ì„±ìž¥ì˜ ê¸¸ê³¼ ìž¥ì• ë¬¼ ê·¹ë³µì„ ì´í•´í•˜ê¸°",es:"Comprende tu camino de crecimiento y supera obstÃ¡culos",de:"Verstehe deinen Wachstumspfad und Ã¼berwinde Hindernisse",pt:"Compreenda seu caminho de crescimento e supere obstÃ¡culos",fr:"Comprenez votre chemin de croissance et surmontez les obstacles",it:"Comprendi il tuo percorso di crescita e supera gli ostacoli",nl:"Begrijp je groeipad en overwin obstakels",ru:"ÐŸÐ¾Ð¹Ð¼Ð¸Ñ‚Ðµ ÑÐ²Ð¾Ð¹ Ð¿ÑƒÑ‚ÑŒ Ñ€Ð¾ÑÑ‚Ð° Ð¸ Ð¿Ñ€ÐµÐ¾Ð´Ð¾Ð»ÐµÐ¹Ñ‚Ðµ Ð¿Ñ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ"},B={en:["Current Situation","Future Development","Obstacles","Final Result","Advice"],zh:["å½“å‰çŠ¶æ€","æœªæ¥å‘å±•","éšœç¢","æœ€åŽç»“æžœ","å»ºè®®"],tw:["ç•¶å‰ç‹€æ…‹","æœªä¾†ç™¼å±•","éšœç¤™","æœ€å¾Œçµæžœ","å»ºè­°"],ja:["ç¾çŠ¶","ä»Šå¾Œã®å±•é–‹","éšœå®³","æœ€çµ‚çµæžœ","ã‚¢ãƒ‰ãƒã‚¤ã‚¹"],ko:["í˜„ìž¬ ìƒí™©","ë¯¸ëž˜ ë°œì „","ìž¥ì• ë¬¼","ìµœì¢… ê²°ê³¼","ì¡°ì–¸"],es:["SituaciÃ³n Actual","Desarrollo Futuro","ObstÃ¡culos","Resultado Final","Consejo"],de:["Aktuelle Situation","ZukÃ¼nftige Entwicklung","Hindernisse","Endergebnis","Ratschlag"],pt:["SituaÃ§Ã£o Atual","Desenvolvimento Futuro","ObstÃ¡culos","Resultado Final","Conselho"],fr:["Situation Actuelle","DÃ©veloppement Futur","Obstacles","RÃ©sultat Final","Conseil"],it:["Situazione Attuale","Sviluppo Futuro","Ostacoli","Risultato Finale","Consiglio"],nl:["Huidige Situatie","Toekomstige Ontwikkeling","Obstakels","Eindresultaat","Advies"],ru:["Ð¢ÐµÐºÑƒÑ‰Ð°Ñ Ð¡Ð¸Ñ‚ÑƒÐ°Ñ†Ð¸Ñ","Ð‘ÑƒÐ´ÑƒÑ‰ÐµÐµ Ð Ð°Ð·Ð²Ð¸Ñ‚Ð¸Ðµ","ÐŸÑ€ÐµÐ¿ÑÑ‚ÑÑ‚Ð²Ð¸Ñ","ÐšÐ¾Ð½ÐµÑ‡Ð½Ñ‹Ð¹ Ð ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚","Ð¡Ð¾Ð²ÐµÑ‚"]};(0,n.useEffect)(()=>{let e=async()=>{try{let e={id:"development",name:P[x]||P.en,tagline:O[x]||O.en,cards:B[x]||B.en,cardCount:5,imageUrl:"/spreads/development.png"};R(e)}catch(e){console.error("Failed to load data:",e)}};2===b&&e()},[b,x]);let V=async t=>{E(!0);try{let s=T?C.map(e=>({id:e.cardId,name:e.name,isReversed:e.isReversed})):C.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,isReversed:e.isReversed})),a=await fetch("/api/love-tarot/relationship-prediction",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({locale:x,additionalInfo:N,drawnCards:s,readingType:t})});if(!a.ok)throw Error("Failed to generate reading");let i=await a.json();F(i.reading),v(3),I(!1),E(!1),e&&e({additionalInfo:N})}catch(e){console.error("Error generating reading:",e),E(!1),I(!1)}};return 2===b?y?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold",children:r("step2.title")}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:r("step2.instruction")})]}),(0,t.jsx)(j.default,{spreadData:y,onComplete:(e,t)=>{k(e),S(t),I(!0)}}),(0,t.jsx)(f.default,{isOpen:z,isSubmitting:L,onSubmit:V})]}):null:3===b&&A?(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:(0,t.jsxs)(s.CardContent,{className:"p-4 sm:p-6 md:p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-6",children:[(0,t.jsx)("h3",{className:"text-xl md:text-2xl font-semibold mb-2",children:r("readingTitle")}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date().toLocaleDateString(x)})]}),(0,t.jsx)("div",{className:"grid grid-cols-5 gap-2 sm:gap-4 mb-6",children:(T?C:C.sort((e,t)=>e.position-t.position)).map((e,s)=>(0,t.jsxs)("div",{className:"flex flex-col items-center gap-1",children:[(0,t.jsx)("div",{className:"w-[50px] h-[75px] sm:w-[70px] sm:h-[105px] relative",children:(0,t.jsx)(u.default,{src:T?e.imageUrl:e.image,alt:e.name,fill:!0,className:"object-contain rounded",style:{transform:e.isReversed?"rotate(180deg)":"none"}})}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground text-center",children:e.name})]},s))}),(0,t.jsx)("div",{className:"prose prose-sm max-w-none",children:(0,t.jsx)(h.default,{remarkPlugins:[p.default],components:{p:({children:e})=>(0,t.jsx)("p",{className:"text-foreground mb-4",children:e}),h1:({children:e})=>(0,t.jsx)("h1",{className:"text-2xl font-bold text-foreground mb-3",children:e}),h2:({children:e})=>(0,t.jsx)("h2",{className:"text-xl font-semibold text-foreground mb-3",children:e}),h3:({children:e})=>(0,t.jsx)("h3",{className:"text-lg font-semibold text-foreground mb-2",children:e}),ul:({children:e})=>(0,t.jsx)("ul",{className:"list-disc list-inside mb-4 text-foreground",children:e}),ol:({children:e})=>(0,t.jsx)("ol",{className:"list-decimal list-inside mb-4 text-foreground",children:e}),li:({children:e})=>(0,t.jsx)("li",{className:"mb-1",children:e}),strong:({children:e})=>(0,t.jsx)("strong",{className:"font-semibold text-foreground",children:e}),em:({children:e})=>(0,t.jsx)("em",{className:"italic",children:e}),blockquote:({children:e})=>(0,t.jsx)("blockquote",{className:"border-l-4 border-primary pl-4 my-4 italic text-foreground",children:e})},children:A})}),(0,t.jsx)("div",{className:"flex justify-center gap-3 mt-6",children:(0,t.jsx)(l.Button,{variant:"secondary",onClick:()=>{window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{a&&a()},300)},children:r("newReading")})})]})}),(0,t.jsx)(g.default,{cards:T?C.map(e=>({id:e.cardId,name:e.name,image:e.imageUrl,isReversed:e.isReversed})):C.sort((e,t)=>e.position-t.position).map(e=>({id:e.id,name:e.name,image:e.image,isReversed:e.isReversed})),reading:A,userQuestion:N})]}):(0,t.jsxs)("div",{className:"max-w-4xl mx-auto",children:[a&&(0,t.jsxs)(l.Button,{variant:"ghost",onClick:a,className:"mb-4",children:[(0,t.jsx)(m.ArrowLeft,{className:"w-4 h-4 mr-1.5"}),r("backToFeatures")]}),(0,t.jsx)(s.Card,{children:1===b&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:r("step1.title")})}),(0,t.jsxs)(s.CardContent,{className:"space-y-4",children:[(0,t.jsxs)(d.InputGroup,{children:[(0,t.jsx)(d.InputGroupTextarea,{placeholder:r("step1.inputPlaceholder"),value:N,onChange:e=>{var t;(t=e.target.value).length<=500&&w(t)},className:"min-h-[120px] resize-none"}),(0,t.jsx)(d.InputGroupAddon,{align:"block-end",children:(0,t.jsxs)(d.InputGroupText,{className:`text-xs font-medium tabular-nums transition-colors ${N.length>450&&N.length<500?"text-warning":N.length>=500?"text-destructive":"text-muted-foreground"}`,children:[N.length,"/500"]})})]}),(0,t.jsx)("div",{className:"flex justify-end pt-2",children:(0,t.jsx)(l.Button,{size:"icon",disabled:!N.trim(),onClick:()=>{1===b&&N.trim()&&v(2)},className:"rounded-full","aria-label":"Continue",children:(0,t.jsx)(c.ArrowRight,{className:"w-5 h-5"})})})]})]})})]})}var C=e.i(563662),k=e.i(456904);function T(){let e=(0,i.useTranslations)("loveTarot.features.usageLabels"),a=(0,k.useRouter)(),{isPremium:r,isLoggedIn:o,isLoading:d}=(0,x.useAuthStore)(),[c,m]=(0,n.useState)(()=>{if(r)return 0;try{let e=new Date().toISOString().split("T")[0],t=localStorage.getItem("loveTarot_usage");if(t){let s=JSON.parse(t);if(s.date===e)return s.count||0}}catch{}return 0});if(r)return(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsx)(s.Card,{className:"gap-0 py-3 bg-primary/10 border-primary/20",children:(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)(C.Icon,{icon:"solar:infinity-bold",className:"text-lg text-primary"}),(0,t.jsxs)("span",{className:"text-sm font-medium text-primary",children:[e("unlimited")," - ",e("premium")]})]})})})});let u=c>=1;return d?(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsx)(s.Card,{className:"gap-0 py-3",children:(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2",children:[(0,t.jsx)("div",{className:"w-5 h-5 rounded-full bg-muted animate-pulse"}),(0,t.jsx)("div",{className:"w-32 h-4 rounded-lg bg-muted animate-pulse"})]})})})}):(0,t.jsx)("div",{className:"w-full max-w-md mx-auto",children:(0,t.jsx)(s.Card,{className:"gap-4 py-4",children:(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(C.Icon,{icon:u?"solar:info-circle-bold":"solar:star-bold",className:`text-lg ${u?"text-muted-foreground":"text-primary"}`}),(0,t.jsx)("span",{className:`text-sm font-medium ${u?"text-muted-foreground":"text-foreground"}`,children:e(u?"usedToday":"freeToday")})]}),!o&&!u&&(0,t.jsxs)("div",{className:"flex flex-col items-center gap-2",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:e("loginToSaveHistory")}),(0,t.jsx)(l.Button,{size:"sm",onClick:()=>a.push(`/login?returnTo=${encodeURIComponent("/love-tarot")}`),children:e("login")})]}),u&&(0,t.jsx)(l.Button,{size:"sm",onClick:()=>{o?a.push("/pricing"):a.push(`/login?returnTo=${encodeURIComponent("/love-tarot")}`)},children:e(o?"upgrade":"login")})]})})})})}function S(){let e=(0,i.useTranslations)("loveTarot.features"),o=(0,i.useTranslations)("TarotReading"),[l,d]=(0,n.useState)(null),{isPremium:c,isLoggedIn:m}=(0,x.useAuthStore)(),h=(0,k.useRouter)(),p=[{id:"whatIsHeThinking",title:e("whatIsHeThinking.title"),description:e("whatIsHeThinking.description"),img:"/images/love-tarot/what-is-he-thinking.png"},{id:"soulmate",title:e("soulmate.title"),description:e("soulmate.description"),img:"/images/love-tarot/soulmate.png"},{id:"relationshipPrediction",title:e("relationshipPrediction.title"),description:e("relationshipPrediction.description"),img:"/images/love-tarot/relationship-prediction.png"},{id:"breakupRecovery",title:e("breakupRecovery.title"),description:e("breakupRecovery.description"),img:"/images/love-tarot/breakup-recovery.png"}],g=()=>{let e=new Date().toISOString().split("T")[0],t=localStorage.getItem("loveTarot_usage"),s={date:e,count:0};if(t){let a=JSON.parse(t);a.date===e&&(s=a)}return s},j=()=>{let e={date:new Date().toISOString().split("T")[0],count:g().count+1};localStorage.setItem("loveTarot_usage",JSON.stringify(e))},f=()=>{d(null)};return"whatIsHeThinking"===l?(0,t.jsx)(b,{onComplete:e=>{console.log("What Is He Thinking completed with data:",e),c||j()},onBack:f}):"soulmate"===l?(0,t.jsx)(v,{onComplete:e=>{console.log("Soulmate completed with data:",e),c||j()},onBack:f}):"breakupRecovery"===l?(0,t.jsx)(N,{onComplete:e=>{console.log("Breakup Recovery completed with data:",e),c||j()},onBack:f}):"relationshipPrediction"===l?(0,t.jsx)(w,{onComplete:e=>{console.log("Relationship Prediction completed with data:",e),c||j()},onBack:f}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)(T,{})}),(0,t.jsx)("div",{className:"gap-4 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 max-w-5xl mx-auto",children:p.map(e=>{let i="soulmate"===e.id||"breakupRecovery"===e.id||"relationshipPrediction"===e.id;return(0,t.jsxs)(s.Card,{className:"relative overflow-hidden cursor-pointer transition-colors hover:border-primary gap-0 py-0",onClick:()=>(e=>{if("soulmate"===e||"breakupRecovery"===e||"relationshipPrediction"===e)return m?c?void d(e):void h.push("/pricing"):void h.push(`/login?returnTo=${encodeURIComponent("/love-tarot")}`);if("whatIsHeThinking"===e){if(!c&&g().count>=1)return m?void h.push("/pricing"):void h.push(`/login?returnTo=${encodeURIComponent("/love-tarot")}`);d(e)}})(e.id),children:[(0,t.jsx)("div",{className:"relative w-full h-[200px]",children:(0,t.jsx)(u.default,{alt:e.title,className:"object-cover",src:e.img,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, 25vw"})}),(0,t.jsxs)(s.CardContent,{className:"flex flex-col items-center text-center gap-2 py-4",children:[(0,t.jsx)("b",{className:"text-base leading-tight",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground min-h-10",children:e.description}),i&&(0,t.jsxs)(a.Badge,{variant:"outline",className:"gap-1",children:[(0,t.jsx)(r.Crown,{className:"w-3.5 h-3.5"}),o("memberOnlyLabel")]})]})]},e.id)})})]})}e.s(["default",()=>S],902179)}]);